## TIL (Today I Learned)

### 2ì›” 17ì¼ (ê¸ˆ)    

- ### [í•™ìŠµë‚´ìš©] UIKitê³¼ SwiftUIì—ì„œ í…ìŠ¤íŠ¸ì˜ ìê°„&í–‰ê°„ ì¡°ì ˆí•˜ê¸°
    #### ìš°ì„  ìê°„ê³¼ í–‰ê°„ì´ ë­˜ê¹Œìš”?

    ìê°„ì€ ê¸€ìì™€ ê¸€ì ì‚¬ì´ ê°„ê²©ì„ ëœ»í•©ë‹ˆë‹¤. 
    ì¦‰ Letter Spacingì´ë¼ê³ ë„ ë§ì´ í‘œê¸°í•˜ë©° í”¼ê·¸ë§ˆë‚˜ ì œí”Œë¦°ì—ì„œ í•´ë‹¹ ì†ì„± ê°’ì˜ ì´ë¦„ë„ ë³´í†µ Letter Spacingìœ¼ë¡œ í‘œê¸°ë©ë‹ˆë‹¤.
    í–‰ê°„ì€ ì¤„ë†’ì´ë¼ê³ ë„ í•˜ë©° ê¸€ìí–‰ ì‚¬ì´ ê°„ê²©ì„ ëœ»í•©ë‹ˆë‹¤.
    íƒ€ì´í¬ê·¸ë˜í”¼ì—ì„œ ì¸ì ‘í•œ ì¤„ ì‚¬ì´ì˜ ê³µê°„ì„ ì˜ë¯¸í•˜ë©° ë³´í†µ Line Spacingì´ë¼ê³  ëª…ì¹­í•©ë‹ˆë‹¤.

    ìš°ë¦¬ëŠ” Text, TextField, TextViewë¥¼ ìì£¼ ì‚¬ìš©í•˜ë©´ì„œ ì´ í…ìŠ¤íŠ¸ ê°„ ìê°„ê³¼ í–‰ê°„ì„ ì¡°ì ˆí•  ì¼ì´ ë§ì•„ì§‘ë‹ˆë‹¤.
    í•´ë‹¹ ì†ì„±ì„ ì¡°ì ˆí•˜ì—¬ ë³´ë‹¤ ë” ë³´ê¸° ì¢‹ì€ UIë¥¼ ë§Œë“¤ê³  ì‚¬ìš©ìë“¤ì—ê²Œ ì‰½ê²Œ ì¸ì‹ë˜ë„ë¡ í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ê·¸ëŸ¼ UIKitê³¼ SwiftUIë¡œ ë·°ë¥¼ ê·¸ë¦¬ë©´ì„œ ì´ í…ìŠ¤íŠ¸ì˜ ìê°„ê³¼ í–‰ê°„ì„ ì¡°ì ˆí•˜ë„ë¡ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤ğŸ•ºğŸ»

    #### SwiftUIì—ì„œì˜ ìê°„ & í–‰ê°„

    ë¨¼ì € SwiftUIì—ì„œ ìê°„ ë° í–‰ê°„ ì„¤ì •ì€ ì•„ì£¼ ë‹¨ìˆœí•©ë‹ˆë‹¤.

    ìš°ì„  ìê°„ë¶€í„°~ğŸ˜„
    ìê°„ì„ ì„¤ì •í•˜ëŠ” ë‘ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.

    1. kerning

    ë¬¸ìì˜ offsetì„ ì¡°ì •í•˜ì—¬ ê°„ê²©ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.
    ```swift
    func kerning(_ kerning: CGFloat) -> Text
    ```
    ìš”ë ‡ê²Œ CGFloat kerningê°’ì„ ë°›ì•„ Text ê°„ê²©ì„ ì„¤ì •í•´ìš”.
    ë!
    ê·¸ëŸ°ë° ì¤‘ìš”í•œê²Œ ìˆìŠµë‹ˆë‹¤.
    ë°”ë¡œ ë’¤ì— ë‚˜ì˜¬ê±°ê¸´ í•˜ì§€ë§Œ trackingì´ë¼ëŠ” ìê°„ ì„¤ì •ì„ ìœ„í•œ ë©”ì„œë“œë„ ìˆì–´ìš”.
    ë§Œì•½ trackingê³¼ kerningì„ ê°™ì´ ì‚¬ìš©í•˜ë©´ trackingì´ ì ìš©ë˜ê³  kerningì´ ë¬´ì‹œë©ë‹ˆë‹¤!

    2. tracking

    kerningì´ ë¬¸ìì˜ offsetì„ ì¡°ì ˆí•œë‹¤ë©´ trackingì€ í›„í–‰ ê³µë°±ì„ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•˜ì—¬ ìê°„ ì¡°ì ˆì„ í•´ì¤ë‹ˆë‹¤.
    func tracking(_ tracking: CGFloat) -> Text
    kerningê³¼ tracking ëª¨ë‘ ìŒìˆ˜ë¶€í„° ì–‘ìˆ˜ì˜ CGFloatì˜ ê°’ì„ ëª¨ë‘ ì§€ì •í•´ì¤„ ìˆ˜ ìˆì–´ìš”.

    ê·¸ëŸ¼ ë‘ê°€ì§€ì˜ ì‚¬ìš©ì„ ì˜ˆì‹œë¡œ ë³´ì‹œì£ !
    ```swift
    struct ContentView: View {
      var body: some View {
        VStack(spacing: 20) {
          Text("ì´ê±°ì‹œ tracking ìê°„ì…ë‹ˆë‹¤")
            .tracking(10)
          Text("ì´ê±°ì‹œ tracking ìê°„ì…ë‹ˆë‹¤")
            .tracking(-1)
          Text("ì´ê±°ì‹œ kerning ìê°„ì…ë‹ˆë‹¤")
            .kerning(10)
          Text("ì´ê±°ì‹œ kerning ìê°„ì…ë‹ˆë‹¤")
            .kerning(-1)
        }
        .padding()
      }
    }
    ```
    ì ì´ëŸ´ë•Œ ê° ìê°„ì´ ì–´ë–»ê²Œ ë‚˜ì˜¬ê¹Œìš”?

    ì´ë ‡ê²Œ ë‚˜ì˜µë‹ˆë‹¤ìš”ğŸ™Œ

    ê·¸ëŸ¼ ì´ì–´ì„œ í–‰ê°„ì„ ë³´ì‹œì£ !

    SwiftUIì—ì„œ í–‰ê°„ ì„¤ì •ì€ ì•„ì£¼ ë” ë‹¨ìˆœí•©ë‹ˆë‹¤.
    ```swift
    func lineSpacing(_ lineSpacing: CGFloat) -> some View
    ```
    lineSpacing ViewModifierë¥¼ ì´ìš©í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ê°„ë‹¨í•˜ë‹ˆ ì½”ë“œë¡œ ë³´ì‹œì£ !
    ```swift
    struct ContentView: View {
      var body: some View {
        VStack(spacing: 20) {
          Text("ì´ê±°ì‹œ í–‰ê°„ì…ë‹ˆë‹¤\ní–‰ê°„ì´ì—ìš”\ní–‰ê°„ì´ë¼ë‹ˆê¹Œìš”")
            .lineSpacing(10)

          Text("ì´ê±°ì‹œ í–‰ê°„ì…ë‹ˆë‹¤\ní–‰ê°„ì´ì—ìš”\ní–‰ê°„ì´ë¼ë‹ˆê¹Œìš”")
            .lineSpacing(-1)
        }
        .padding()
      }
    }
    ```

    ì´ë ‡ê²Œ ê°„ë‹¨íˆ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ì´ì œ ê·¸ëŸ¼ UIKitì—ì„œ ìê°„/í–‰ê°„ì„ ì„¤ì •í•´ë³´ì‹œì£ ğŸ™Œ

    #### UIKitì—ì„œì˜ ìê°„ & í–‰ê°„

    ìš°ì„  ìê°„ë¶€í„°!
    ìê°„ì„ ì„¤ì •í•˜ë ¤ë©´ NSMutableAttributedStringë¡œ í…ìŠ¤íŠ¸ì˜ ì†ì„±ì„ ë³€ê²½í•´ì¤˜ì„œ ì…í˜€ì•¼í•©ë‹ˆë‹¤.
    íŠ¹íˆ í•´ë‹¹ íƒ€ì…ì— ì¡´ì¬í•˜ëŠ” addAttribute ë©”ì„œë“œë¥¼ ì´ìš©í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
    ```swift
    func addAttribute(
        _ name: NSAttributedString.Key,
        value: Any,
        range: NSRange
    )
    ```
    ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ìê°„ì„ ì„¤ì •í•˜ë©´ ë˜ëŠ”ë°ìš”. í•œë²ˆ í•´ë³´ê² ìŠµë‹ˆë‹¤!
    ```swift
    textView.attributeText = setLetterSpacing(10.0, "ì´ê±°ì‹œ ìê°„!")

    // í…ìŠ¤íŠ¸ ìê°„ ì ìš©
    func setLetterSpacing(_ spacing: CGFloat, _ text: String) -> NSMutableAttributedString {
      let attributedString = NSMutableAttributedString(string: text)
      attributedString.addAttribute(
        NSAttributedString.Key.kern,
        value: spacing,
        range: NSRange(location: 0, length: attributedString.length)
      )

      return attributedString
    }
    ```
    ì´ë ‡ê²Œ NSMutableAtrributedString íƒ€ì…ì„ ë§Œë“¤ì–´ í•´ë‹¹ addAttribute ë©”ì„œë“œë¡œ ìê°„ ì„¤ì •ì„ í•´ì¤€ ë’¤ ì ìš©í•˜ê³  ì‹¶ì€ textì— ë„£ì–´ì£¼ë©´ ë„ì•ğŸ¥Š

    ê·¸ ë‹¤ìŒìœ¼ë¡œ í–‰ê°„ ì„¤ì • ë³´ì‹œì£ !

    í–‰ê°„ ì„¤ì •ì€ ìê°„ ì„¤ì •ê³¼ ë¹„ìŠ·í•©ë‹ˆë‹¤.
    NSMutableParagraphStyle íƒ€ì…ì„ ì´ìš©í•´ì¤˜ì•¼í•©ë‹ˆë‹¤.
    ```swift
    class NSMutableParagraphStyle : NSParagraphStyle
    ```
    í•´ë‹¹ í´ë˜ìŠ¤ëŠ” ë‹¨ë½ ìŠ¤íƒ€ì¼ ì†ì„±ì˜ í•˜ìœ„ ì†ì„± ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê°œì²´ì…ë‹ˆë‹¤.
    ì¦‰ ì‰½ê²Œ ë§í•´ ë‹¨ë½ ìŠ¤íƒ€ì¼ì„ ê²°ì •í•´ì¤„ ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ì£ !
    í•´ë‹¹ í”„ë¡œí¼í‹°ë¡œ lineSpacingì´ ì¡´ì¬í•©ë‹ˆë‹¤.
    ê·¸ê±¸ ì´ìš©í•´ì£¼ë©´ ë˜ì£ !
    ê·¸ëŸ¼ ì´ê²ƒë„ ì½”ë“œë¡œ ë³´ì‹œì£ ğŸ™Œ
    ```swift
    textView.attributedText = setLineSpacing(10.0, "ì´ê²ƒì´ í–‰ê°„!")

    // í…ìŠ¤íŠ¸ í–‰ê°„ ì„¤ì •
    func setLineSpacing(_ spacing: CGFloat, text: String) -> NSAttributedString {
      let paragraphStyle = NSMutableParagraphStyle()
      paragraphStyle.lineSpacing = spacing

      return NSAttributedString(
        string: text,
        attributes: [NSAttributedString.Key.paragraphStyle: paragraphStyle]
      )
    }
    ```
    ì´ë ‡ê²Œ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

    #### ë§ˆë¬´ë¦¬

    ìì£¼ ì‚¬ìš©ë˜ëŠ” ìê°„ê³¼ í–‰ê°„ì— ëŒ€í•´ ë‘ ë·° ë“œë¡œì‰ ë°©ì‹ì—ì„œ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤ã…ã…
    ì´ì œ ìê°„ê³¼ í–‰ê°„ í—·ê°ˆë¦¬ì§€ ë§ìêµ¬ìš”ğŸ¥¸

    #### [ì°¸ê³  ìë£Œ]
    https://green1229.tistory.com/331   
    https://developer.apple.com/documentation/swiftui/text/kerning(_:)
    https://developer.apple.com/documentation/swiftui/text/tracking(_:) 
    https://developer.apple.com/documentation/swiftui/text/linespacing(_:) 
    https://developer.apple.com/documentation/foundation/nsmutableattributedstring
    https://developer.apple.com/documentation/uikit/nsmutableparagraphstyle