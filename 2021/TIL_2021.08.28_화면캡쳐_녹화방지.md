## TIL (Today I Learned)

### 8ì›” 28ì¼ (í† )

- #### [í•™ìŠµë‚´ìš©]
  
  ### í™”ë©´ ìº¡ì³ ë° ë…¹í™” ë°©ì§€ì— ëŒ€í•´ğŸ§‘ğŸ»â€ğŸ’»   
  
  #### ì œê³µí•˜ëŠ” ì•±ì—ì„œ í™”ë©´ ìº¡ì³ì™€ ë…¹í™”ë¥¼ ì›ì²œì ìœ¼ë¡œ ì°¨ë‹¨í•  ìˆ˜ ìˆì„ê¹Œìš”?   
  ìš°ì„ , ê°€ëŠ¥ì€ í•©ë‹ˆë‹¤. ë‹¨ ìš°ë¦¬ì˜ ì½”ë“œë§Œìœ¼ë¡  í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.   
  ë¬´ìŠ¨ ì†Œë¦¬ì¸ì§€ ê°ì´ ì•ˆì˜¤ì‹œì£ ?   
  ê°„ëµíˆ ë§í•´ë³´ìë©´, iOSì—ì„œ í™”ë©´ ìº¡ì³ë¥¼ í•˜ëŠ”ê²ƒì€ OSì˜ ì˜ì—­ì…ë‹ˆë‹¤.   
  ì´ì—, ë°©ì§€ ê¸°ëŠ¥ì´ êµ¬í˜„ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ ì–´ë– í•œ ì†”ë£¨ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì½”ë“œë§Œìœ¼ë¡  ë°©ì§€ë¥¼ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.   

  #### ê·¸ëŸ¼ ì–´ë–¤ì‹ìœ¼ë¡œ ìº¡ì³ì™€ ë…¹í™”ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆì„ê¹Œìš”?   
  ì›ì²œì ìœ¼ë¡œ ê¸°ëŠ¥ì´ ë˜ì§€ ì•Šê²ŒëŠ” í•  ìˆ˜ ì—†ìœ¼ë‹ˆ ì‚¬ìš©ìì—ê²Œ ìº¡ì³ì™€ ë…¹í™”ê°€ ì‹œì‘ ë ë•Œ ì–¼ëŸ¿ì„ ë…¸ì¶œì‹œì¼œì£¼ë©´ ë©ë‹ˆë‹¤.   
  ê·¸ëŸ¬ë©´ ì‚¬ìš©ìë„ ì˜ë„ë¥¼ ì¸ì§€í• ê²ƒì…ë‹ˆë‹¤.   
  ë§Œì•½ ë” ë‚˜ì•„ê°€ ì–¼ëŸ¿ë§Œìœ¼ë¡œëŠ” ì•ˆë˜ê³  ìº¡ì³ë‚˜ ë…¹í™”ë¥¼ ì´í›„ì— ë¬´ìŠ¨ ì¼ì´ ìƒê²¼ì„ë•Œ ì–´ë–¤ ì‚¬ìš©ìê°€ ê·¸ë¬ëŠ”ì§€ ì •ë³´ê°€ í•„ìš”í•˜ë‹¤ë©´ ì„œë²„ì™€ ì—°ë™í•˜ì—¬ ì‚¬ìš©ìID, ìº¡ì³ì‹œê°, ìº¡ì³ì •ë³´ ê°™ì€ ë°ì´í„°ë“¤ì„ ìº¡ì³ë‚˜ ë…¹í™”ê°€ ì¼ì–´ë‚ ë•Œ ë¡œê¹…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.   
  ê·¸ëŸ¬ë©´ ì¶”í›„ ì¼ì´ ë°œìƒí•œë‹¤ë©´ í•´ë‹¹ ìë£Œë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ê² ì£ ?   

  #### ì ê·¸ëŸ¼ ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ ìº¡ì³/ë…¹í™” ë°©ì§€ë¥¼ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ì£ !   

  í•´ë‹¹ ê¸°ëŠ¥ì„ íŠ¹ì •í•œ ë·°ì»¨ì—ì„œë§Œ í•´ì¤„ ìˆ˜ë„ ìˆê² ì§€ë§Œ ì €ëŠ” ì „ì—­ì ìœ¼ë¡œ ìº¡ì³ ë° ë…¹í™”ë¥¼ ë°©ì§€í•˜ê³  SceneDelgateì—ì„œ ë‹¤ë¤„ì£¼ì—ˆìŠµë‹ˆë‹¤ğŸ‘   
  ```swift
  import UIKit
  import SwiftUI
  class SceneDelegate: UIResponder, UIWindowSceneDelegate {
    var window: UIWindow?
    ...
    func sceneWillEnterForeground(_ scene: UIScene) {
      // Called as the scene transitions from the background to the foreground.
      // Use this method to undo the changes made on entering the background.
      NotificationCenter.default.addObserver(self, selector: #selector(alertPreventScreenCapture(notification:)), name: UIApplication.userDidTakeScreenshotNotification, object: nil)
      NotificationCenter.default.addObserver(self, selector: #selector(alertPreventScreenCapture(notification:)), name: UIScreen.capturedDidChangeNotification, object: nil)
    }
    ...
    @objc func alertPreventScreenCapture(notification:Notification) -> Void {
      let alert = UIAlertController(title: "ì£¼ì˜", message: "ìº¡ì³ í˜¹ì€ ë…¹í™”ë¥¼ í•˜ë©´ ì•ˆë˜ìš”!!", preferredStyle: .alert)
      alert.addAction(UIAlertAction(title: "OK", style: .default, handler: nil))
      self.window?.rootViewController!.present(alert, animated: true, completion: nil)
      }
  }
  ```
  ì •ë§ ì½”ë“œê°€ ê°„ë‹¨í•˜ì£ ?   
  ìš°ì„  ë·°ë¥¼ ë‹¤ë£¨ëŠ” ì”¬ë”œë¦¬ê²Œì´íŠ¸ì—ì„œ ì”¬ì´ í¬ê·¸ë¼ìš´ë“œë¡œ ë“¤ì–´ê°ˆë•Œ ì „ì—­ì ìœ¼ë¡œ í•´ë‹¹ ê¸°ëŠ¥ì„ ë™ì‘í•  ìˆ˜ ìˆê²Œ ì‹¬ì–´ì¤ë‹ˆë‹¤.   
  ë…¸í‹°í”¼ì¼€ì´ì…˜ì„¼í„°ë¥¼ í†µí•´ ì˜µì €ë²„ë¥¼ ì¶”ê°€í•˜ê³  ìº¡ì³ë‚˜ ë…¹í™”ê°€ ì¼ì–´ë‚ ë•Œ ì…€ë ‰í„° ë©”ì„œë“œë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.   
  - í™”ë©´ ìº¡ì³ ê°ì§€   
  í™”ë©´ ìº¡ì³ë¥¼ ê°ì§€í• ìˆ˜ ìˆëŠ” ë©”ì„œë“œëŠ” UIApplicationì˜userDidTakeScreenshotNotifiacionì…ë‹ˆë‹¤.   
  - ë…¹í™” ê°ì§€   
  í™”ë©´ ë…¹í™”ë¥¼ ê°ì§€í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œëŠ” UIScreen.captureDidChangeNotificationì…ë‹ˆë‹¤.   
  ì´ ë‘˜ì˜ ì‚¬ìš©ì„ êµ¬ë¶„í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤!   
  ë‹¤ì‹œ ì…€ëŸ­í„° ë©”ì„œë“œê°€ í˜¸ì¶œì´ë˜ë©´ ì–¼ëŸ¿ì„ ìƒì„±í•˜ê³  ë„ì›Œì¤ë‹ˆë‹¤.   
  ì–´ë–¤ ëŠë‚Œì¸ì§€ ì•„ì‹œê² ì£ ?   
  ì´ë ‡ê²Œ ê°„ë‹¨í•˜ê²Œ í™”ë©´ ìº¡ì³ ë° ë…¹í™”ë¥¼ ê°ì§€í•´ì„œ ì–¼ëŸ¿ìœ¼ë¡œ ì•Œë ¤ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.   

  #### ê·¼ë° ë” ë‚˜ì•„ê°€ì„œ, í™”ë©´ ë…¹í™”ê°€ ì‹œì‘ë ë–„ ì•„ì˜ˆ í™”ë©´ì„ ì•ˆë³´ì´ê²Œë„ í•  ìˆ˜ ìˆê² ì£ ?   
  ```swift
  import UIKit
  import SwiftUI
  
  class SceneDelegate: UIResponder, UIWindowSceneDelegate {
  
    var window: UIWindow?
  
    ...
  
    func sceneWillEnterForeground(_ scene: UIScene) {
      // Called as the scene transitions from the background to the foreground.
      // Use this method to undo the changes made on entering the background.
      NotificationCenter.default.addObserver(self, selector: #selector(alertPreventScreenCapture(notification:)), name: UIApplication.userDidTakeScreenshotNotification, object: nil)
      NotificationCenter.default.addObserver(self, selector: #selector(alertPreventScreenCapture(notification:)), name: UIScreen.capturedDidChangeNotification, object: nil)
    }
  
    ...
  
    @objc func alertPreventScreenCapture(notification:Notification) -> Void {
      let alert = UIAlertController(title: "ì£¼ì˜", message: "ìº¡ì³ í˜¹ì€ ë…¹í™”ë¥¼ í•˜ë©´ ì•ˆë˜ìš”!", preferredStyle: .alert)
      alert.addAction(UIAlertAction(title: "OK", style: .default, handler: nil))
  
      DispatchQueue.main.async { [self] in
        if var rootController = self.window?.rootViewController {
          while let currentController = rootController.presentedViewController {
            rootController = currentController
          }
          rootController.present(alert, animated: true, completion: nil)
        }
  
        hideScreen()
      }
    }
  
    fileprivate func hideScreen() {
      if UIScreen.main.isCaptured {
        window?.isHidden = true
      } else {
        window?.isHidden = false
      }
    }
  }
  ```
  ì´ë ‡ê²Œ í™”ë©´ì„ ìˆ¨ê¸°ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì£¼ê³  í™”ë©´ ë…¹í™”ê°€ ì¼ì–´ë‚ ë•Œ ìˆ¨ê²¨ì£¼ê³  ëë‚˜ë©´ ë‹¤ì‹œ ë³´ì—¬ì£¼ê²Œ í•´ì¤ë‹ˆë‹¤.   
  ê·¸ëŸ¼ ì…€ë ‰í„° ë©”ì„œë“œì—ì„œ í•´ë‹¹ ë©”ì„œë“œì™€ ì–¼ëŸ¿ì„ ë„ì›Œì£¼ëŠ” ë©”ì„œë“œë¥¼ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•´ì¤€ë‹¤ë©´ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆì–´ìš”!   

  ì‹¤ì œë¡œ ì € ì½”ë“œë¡œ ëŒë ¤ë³´ë©´ í™”ë©´ ë…¹í™”ë¥¼ ì¤‘ë‹¨í•˜ë©´ ë‹¤ì‹œ ì–¼ëŸ¿ì´ ë‚˜íƒ€ë‚˜ëŠ”ê±¸ ë³¼ ìˆ˜ ìˆì–´ìš”!   
  ê·¸ëŸ°ë° í•´ë‹¹ ì½”ë“œì—ì„œëŠ” ì¹˜ëª…ì ì¸ ë‹¨ì ì´ ìˆì–´ìš”!   
  ë°”ë¡œ ë¹„ë™ê¸°ë¡œ ë©”ì¸ì—ì„œ ì‘ë™í•˜ê¸°ì— ëŒì•„ì™”ì„ë•Œ ì–¼ëŸ¿ì´ ì—¬ëŸ¬ê°œê°€ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”.   

  #### ì œì¼ì œì¼ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ ë°”ê¿”ë³´ì£ !   
  ```swift
  import UIKit
  import SwiftUI
  
  class SceneDelegate: UIResponder, UIWindowSceneDelegate {
  
    var window: UIWindow?
  
    ...
  
    func sceneWillEnterForeground(_ scene: UIScene) {
      // Called as the scene transitions from the background to the foreground.
      // Use this method to undo the changes made on entering the background.
      NotificationCenter.default.addObserver(self, selector: #selector(alertPreventScreenCapture(notification:)), name: UIApplication.userDidTakeScreenshotNotification, object: nil)
      NotificationCenter.default.addObserver(self, selector: #selector(alertPreventScreenCapture(notification:)), name: UIScreen.capturedDidChangeNotification, object: nil)
    }
  
    ...
  
    @objc func alertPreventScreenCapture(notification:Notification) -> Void {
      let alert = UIAlertController(title: "ì£¼ì˜", message: "ìº¡ì³ í˜¹ì€ ë…¹í™”ë¥¼ í•˜ë©´ ì•ˆë˜ìš”!", preferredStyle: .alert)
      alert.addAction(UIAlertAction(title: "OK", style: .default, handler: nil))
      hideScreen()
      self.window?.rootViewController!.present(alert, animated: true, completion: nil)
    }
  
    fileprivate func hideScreen() {
      if UIScreen.main.isCaptured {
        window?.isHidden = true
      } else {
        window?.isHidden = false
      }
    }
  }
  ```
  ì ì´ë ‡ê²Œ í•œë‹¤ë©´ ë¹„ë™ê¸°ê³  ë­ê³  ë³µì¡í•  í•„ìš”ì—†ì´ ì›í•˜ëŠ” ë™ì‘ì˜ êµ¬í˜„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤!   
  ë¬¼ë¡  ë…¹í™”ë¥¼ ì¤‘ë‹¨í•˜ê³  ì˜¤ë©´ ì–¼ëŸ¿ë„ í•œë²ˆë§Œ ë…¸ì¶œë˜ìš”ğŸ‘   

  ê°„ë‹¨í•˜ì£ ? ì´ë ‡ê²Œ ìº¡ì³ì™€ ë…¹í™”ë¥¼ ì›ì²œì ìœ¼ë¡œ ì°¨ë‹¨í•˜ì§„ ì•Šê³  ë°©ì§€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì— ëŒ€í•´ í•™ìŠµí•´ë³´ì•˜ìŠµë‹ˆë‹¤.   
  ìƒìš©ì•±ì´ë¼ë©´ ê°œì¸ì •ë³´ë“± ê³ ê°ì˜ ë¯¼ê°í•œ ì •ë³´ë¥¼ ì´ìš©í•  ìˆ˜ë„ ìˆê¸°ì— ë³´ì•ˆ ê°•í™”ë¥¼ ìœ„í•´ í•„ìˆ˜ëŠ” ì•„ë‹ˆì§€ë§Œ
  ì˜µì…˜ìœ¼ë¡œ ì¢‹ì€ ë°©ë²•ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤ğŸ’ğŸ»   

  #### [ì°¸ê³ ìë£Œ]   
  https://green1229.tistory.com/169   
  https://hackernoon.com/how-to-disable-screenshots-and-recording-in-ios-apps-8l2e3tmb      
  https://stackoverflow.com/questions/46217459/how-to-understand-if-device-screen-is-being-recorded-in-ios-11/46218452   
