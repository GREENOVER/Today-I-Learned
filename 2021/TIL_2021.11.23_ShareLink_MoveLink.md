## TIL (Today I Learned)

### 11ì›” 23ì¼ (í™”)   

- #### [í•™ìŠµë‚´ìš©]
  
  #### share Link & Move Link ?           

  ë‹¤ë“¤ ì•±ì„ ì‚¬ìš©í•˜ì‹œë‹¤ê°€ ë§í¬ë³µì‚¬ë¥¼ í†µí•´ ë§í¬ ê³µìœ í•˜ê¸° ê·¸ë¦¬ê³  ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ íŠ¹ì • ì›¹í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë“±ì˜ ê²½í—˜ì€ ì•„ì£¼ì•„ì£¼ ë‹¹ì—°í•˜ê³  ë§ì´ ìˆìœ¼ì‹¤ê²ë‹ˆë‹¤!   
  ê·¸ë˜ì„œ ì´ ë‹¹ì—°í•œê±´ ë‹¹ì—°í•˜ê²Œ SwiftUIë¡œ í•œë²ˆ ë„ì „í•´ë³´ê² ìŠµë‹ˆë‹¤.   
  ì‚¬ì‹¤ ë·°ë§Œ SwiftUIì¼ ë¿ì´ì§€ ê·¸ ë§í¬ì— ëŒ€í•œ ì•¡ì…˜ì€ íŠ¹ë³„í• ê±´ ì—†ì–´ìš”..ğŸ˜…   
  ìŠ¤íƒì˜¤ë²„í”Œë¡œë‚˜ êµ¬ê¸€ë§ë§Œ í•´ë´ë„ ë§í¬ ê³µìœ ì™€ ì´ë™ì— ëŒ€í•´ì„  ë„ˆë¬´ë„ˆë¬´ ê³µì‹ì²˜ëŸ¼ ë§ì´ ë‚˜ì˜¤ê¸°ì— ì´ê±¸ ì˜ í™œìš©í•´ì„œ ì €ëŠ” ì¡°ê¸ˆ ë” êµ¬ì¡°ì ìœ¼ë¡œ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤ğŸ™‹ğŸ»   

  #### ì „ì²´ ì†ŒìŠ¤ì½”ë“œ   
  ```swift
  import SwiftUI
  
  struct ContentView: View {
    var body: some View {
      Button(
        "ë§í¬ ê³µìœ ",
        action: {
          buttonAction("https://www.google.com", .share)
        }
      )
      Button(
        "ë§í¬ ì´ë™",
        action: {
          buttonAction("https://www.google.com", .link)
        }
      )
    }
  
    private enum Coordinator {
      static func topViewController(
        _ viewController: UIViewController? = nil
      ) -> UIViewController? {
        let vc = viewController ?? UIApplication.shared.windows.first(where: { $0.isKeyWindow })?.rootViewController
  
        if let navigationController = vc as? UINavigationController {
          return topViewController(navigationController.topViewController)
        } else if let tabBarController = vc as? UITabBarController {
          return tabBarController.presentedViewController != nil ?
          topViewController(
            tabBarController.presentedViewController
          ) : topViewController(
            tabBarController.selectedViewController
          )
        } else if let presentedViewController = vc?.presentedViewController {
          return topViewController(presentedViewController)
        }
        return vc
      }
    }
  
    private enum Method: String {
      case share
      case link
    }
  
    private func buttonAction(_ stringToURL: String, _ method: Method) {
      let shareURL: URL = URL(string: stringToURL)!
  
      if method == .share {
        let activityViewController = UIActivityViewController(activityItems: [shareURL], applicationActivities: nil)
        let viewController = Coordinator.topViewController()
        activityViewController.popoverPresentationController?.sourceView = viewController?.view
        viewController?.present(activityViewController, animated: true, completion: nil)
      } else {
        UIApplication.shared.open(URL(string: stringToURL)!)
      }
    }
  }
  ```
  ì „ì²´ì ìœ¼ë¡œëŠ” ìš”ë ‡ê²Œ êµ¬ì¡°ë¥¼ ê°€ì ¸ê°€ë´¤ìŠµë‹ˆë‹¤.   
  ìš°ì„  SwiftUIë¥¼ í†µí•´ ë²„íŠ¼ ë‘ê°œë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.   
  í•´ë‹¹í•˜ëŠ” ë²„íŠ¼ì— ëŒ€í•œ ì•¡ì…˜ì„ ë§Œë“¤ê¸° ì „ ê³µìœ  ëª¨ë‹¬ì— ëŒ€í•´ ì»¨íŠ¸ë¡¤í•´ì£¼ëŠ” ë©”ì„œë“œì™€ ì–´ë–¤ ë²„íŠ¼ì— ëŒ€í•œ ë™ì‘ì„ ë‹¤ë¥´ê²Œ í• ì§€ì— ëŒ€í•´ Enum íƒ€ì…ìœ¼ë¡œ ìƒì„±í•´ì¤ë‹ˆë‹¤.   
  ìš°ì„  Coordinatorì—ëŠ” topVC ë©”ì„œë“œë¥¼ ì •ì˜í•´ì¤ë‹ˆë‹¤.   
  ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ ê³µìœ  ëª¨ë‹¬ì´ ìœˆë„ìš°ì— ë§¨ ìƒë‹¨ìœ¼ë¡œ ì˜¬ë¼ê°€ê²Œ ë˜ê³  íë¦„ê³¼ ê¸°ëŠ¥ì„ ê°€ì ¸ê°‘ë‹ˆë‹¤.   
  ê·¸ë¦¬ê³  ë²„íŠ¼ì´ ëˆŒë ¸ì„ë•Œ buttonActionì´ë¼ëŠ” ë©”ì„œë“œì—ì„œëŠ” URLê³¼ methodë¥¼ ë°›ìŠµë‹ˆë‹¤.   
  ë¬¸ìì—´ì„ URLë¡œ ë³€ê²½í•´ì£¼ê³  ê³µìœ ì¼ ë•Œ UIActivityVCë¡œ ì–´ë–¤ ë·°ì»¨ì´ ë ì§€ ì •í•´ì¤ë‹ˆë‹¤.   
  ê·¸ë¦¬ê³  ë·°ë¥¼ ë„ì›Œì¤ë‹ˆë‹¤.   
  ë§Œì•½ else êµ¬ë¬¸ìœ¼ë¡œ ê°„ë‹¤ë©´ ë§í¬ ì´ë™ì— ëŒ€í•œ ì•¡ì…˜ì„ ì·¨í•´ì¤˜ì•¼í•¨ìœ¼ë¡œ UIApplicationì˜ open ë©”ì„œë“œë¥¼ í†µí•´ ì´ë™ì‹œì¼œì¤ë‹ˆë‹¤.   
  
  #### ë§ˆë¬´ë¦¬   
  ì´ë²ˆì—ëŠ” í•™ìŠµë³´ë‹¤ êµ¬í˜„ì„ í•˜ë©° ì¡°ê¸ˆ ë³€í˜•ì‹œí‚¨ê±¸ ìŠ¤ìŠ¤ë¡œ ê¸°ë¡í•´ë³´ê³  í•„ìš”í•˜ì‹ ë¶„ë“¤ì´ ì¡°ê¸ˆ ì´í•´ë  ìˆ˜ ìˆë„ë¡ ì •ë¦¬í•´ë´¤ìŠµë‹ˆë‹¤.   
  ìˆ˜ì •ë  ë¶€ë¶„ì´ë‚˜ ì˜ëª»ëœ ë¶€ë¶„ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤ğŸ™Œ   

  #### [ì°¸ê³ ìë£Œ]   
  https://green1229.tistory.com/194   
  https://stackoverflow.com/questions/37938722/how-to-implement-share-button-in-swift   
