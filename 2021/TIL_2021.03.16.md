## TIL (Today I Learned)

### 3월 16일 (화)

- #### [학습내용]
프로젝트를 진행하다 대충만 알고 있던 lazy var에 대해 좀 더 구체적으로 학습을 해보며 생각해보았다. 

  lazy는 직역하여 생각해봤는데 게으른이라는 뜻이있다. 처음 접할때 왜 게으른일까? 뭘 늦게 해주는걸까? 라는 의문을 가지고 접근했다.

  lazy var는 우선 메모리와 관련이 있다. 메모리를 보다 효율적으로 관리하기 위해 공식문서에서는 처음 사용되기 전까지는 메모리를 잡아먹는 연산이 이뤄지지 않는다고한다. 
이걸 좀 더 생각해보면 해당 변수가 필요하여 사용되기 전에는 메모리를 차지하지 않고 해당 변수를 사용하려할때 로드되어 메모리를 차지하는것이다. 
처음 의문을 가지고 접근한 부분에 답이 될 수 있을것 같다. 게으른 저장? 처럼 필요할때 한다~ 이런 게으른 느낌이 들었다.

  이번 프로젝트에서 활용한 부분은 아래처럼 Board가 3개의 영역으로 되어있고 해당 3개의 영역을 아우르는 boards라는 변수를 선언하는 동시에 리턴 값을 주었다. 그런데 각 3개의 보드가 생성되지 않아 데이터가 없어 boards 변수에 lazy 키워드가 없다면 에러가 난다. 즉, boards 변수가 필요할때 생성되도록하여 초기 실행 시 에러가 나지 않게 된다.
  ```siwft
let todoBoard = Board(title: ProgressStatus.todo.rawValue)
    let doingBoard = Board(title: ProgressStatus.doing.rawValue)
    let doneBoard = Board(title: ProgressStatus.done.rawValue)
    lazy var boards: [Board] = {
        return [todoBoard, doingBoard, doneBoard]
    }()
  ```

  이렇게 분명 생성되어 필요하지만 처음부터 메모리를 잡아먹지 않아도되는것에 대해 lazy를 선언해주는것 같다.

  lazy 사용을 위해 필수적인 사항이 있다.

  1. lazy 키워드는 var와 사용
: lazy로 선언한 변수는 초기값이 존재하지 않고 이후 값이 생김으로 let으로 선언할 수 없음으로 당연한 사항이다.
  2. struct / class
: lazy는 위 두가지 타입안에서만 사용됨
  3. lazy는 연산 프로퍼티에서는 사용할 수 없음
  : lazy 변수는 처음 불러지면 메모리를 잡게되고 추후 메모리에 잡힌 값을 사용함으로 불려질때마다 연산을 하게되는 연산 프로퍼티에서는 사용할 수 없음
  -> lazy 변수에 연산 값을 넣기위해서는 closure를 사용

- #### [느낀점]
  프로젝트를 계속 리팩토링 하는 작업을 거치며 확실히 아는게 아닌 이렇게 하면 되었었지 하면서 사용한 개념들이 꽤 많았던것 같다. 이제부터는 그런것들에 대해 하루에 하나씩이라도 개념을 보강하며 기초를 좀 더 다져야겠다. 자꾸 프로젝트 스텝을 끝내는거에 연연하여 뿌리를 놓치고 있다는 생각이 들었다. 기능 구현보다 개념 쏙쏙을 해야겠다
  

- #### [참고자료]
https://baked-corn.tistory.com/45