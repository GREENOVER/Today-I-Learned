## TIL (Today I Learned)

### 3μ›” 23μΌ (ν™”)

- #### [ν•™μµλ‚΄μ©]
  μ΄λ² ν”„λ΅μ νΈ μ¤ν…3μ—μ„ λ΅μ»¬ λ…Έν‹°ν”ΌμΌ€μ΄μ… κµ¬ν„μ„ ν•΄λ³΄λ©΄μ„ μΆ€ λ” μ•κ²λ μ •λ³΄μ™€ μ§€μ‹μ„ μ •λ¦¬ν•΄λ΄¤μµλ‹λ‹¤..!π§

  **Trigger**
  Β : λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ μ‘λ™μ‹ν‚¤λ” νΈλ¦¬κ±°μ—λ” λ‡κ°€μ§€ μΆ…λ¥κ°€ μμµλ‹λ‹¤.
  ```swift
  UNTimeIntervalNotificationTrigger(timeInterval: TimeInterval, repeats: Bool)
  UNLocationNotificationTrigger(region: CLRegion, repeats: Bool)
  UNCalendarNotificationTrigger(dateMatching: DateComponents, repeats: Bool)
  ```
  μ—¬κΈ°μ„ Timeμ€ μ •ν™•ν•κ² μ–΄λ μ‹κ°„ μ΄ν›„ λ³΄λ‚΄λ” κ²ƒμ— λ€ν•΄ μ„¤μ •ν•΄μ¤„ μ μμµλ‹λ‹¤.
  κ·Έλ¦¬κ³  Calendarλ΅ μ„¤μ •μ„ ν•κ²λλ©΄ νΉμ • μ§€μ •ν• λ‚ μ§μ™€ μ‹κ°„μ— λ³΄λ‚΄μ¤„ μ μμµλ‹λ‹¤.

  **UNCalendarNotificationTrigger**
  Β : μ°μ„  νλΌλ―Έν„°μ— μΈμλ¥Ό λ„κ²¨μ¤„ DateComponentsλ¥Ό μ„¤μ •ν•΄μ¤μ•Όν•©λ‹λ‹¤.
  ```swift
  var dateComponents = Calendar.current.dateComponents([.year, .month, .day, .hour, .minute], from: date)
  ```
  μ΄λ ‡κ² μ„¤μ •ν•΄μ£Όμ–΄ frome: dateμ— μ„¤μ •ν•  κ°’μ„ λ„£μ–΄μ£Όλ©΄ μ•λ¦Όμ΄ κµ¬ν„λ©λ‹λ‹¤.
  λ§μ•½ νΉμ • μ‹κ°„ μ¦‰ 2021λ…„ 3μ›” 23μΌ 9μ‹ 30λ¶„ 45μ΄μ— λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ λ§λ“¤μ–΄ μ£Όκ² λ‹¤ ν•λ‹¤λ©΄ μ•„λμ™€ κ°™μ΄ λ” νΉμ •ν•κ² μ„¤μ •μ΄ κ°€λ¥ν•©λ‹λ‹¤.
  ```swift
  var dateComponents = Calendar.current.dateComponents([.year, .month, .day], from: date)
  dateComponents.hour = 9
  dateComponents.minute = 30
  dateComponents.second = 45
  ```
  μ΄λ ‡κ² μ„¤μ •ν•΄μ¤€λ‹¤λ©΄ dateλ¥Ό λ°›μ•„μ™€ μ—°μ›”μΌλ§ κ°€μ Έλ‹¤ μ„¤μ •ν•κ³  λ‚λ¨Έμ§€ μ‹κ°„μ€ νΉμ •ν•κ² μ§€μ •ν•΄μ¤„ μ μμµλ‹λ‹¤.
  κ²μ„ μ•±μ΄λ‚ λ‹¤μ–‘ν• μ•±μ—μ„λ” νΉμ • μ•„μΉ¨ 9~10μ‹ μ‹κ°„λ€μ— μ΄λ° λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ μ‚¬μ©ν•λ”κ²ƒ κ°™μ•μµλ‹λ‹¤.

  **Local Notification ν•΄μ **
  Β : μ„¤μ •ν• λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ ν•΄μ ν•λ” λ°©λ²•!
  ```swift
  func removeNofiticaion(name: String) {
    let center = UNUserNotificationCenter.current()
    center.removePendingNotificationRequests(withIdentifiers: [name])
  }
  ```
  μ΄λ ‡κ² λ©”μ„λ“λ΅ κµ¬ν„μ„ ν•΄λ΄¤λ”λ° ν•µμ‹¬μ€ removePendingNotificationRequests λ©”μ„λ“μ μ‚¬μ©μ…λ‹λ‹¤.
  ν•΄λ‹Ή λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ μ§€μ •ν• identifiers μ‹λ³„μλ¥Ό λ„£μ–΄μ£Όμ–΄ νΉμ •ν• λ…Έν‹°ν”ΌμΌ€μ΄μ…λ“¤λ§ ν•΄μ κ°€ κ°€λ¥ν•©λ‹λ‹¤.
  λ‹¤λ§ center μƒμλ” μ „μ—­μ μΌλ΅ μ ‘κ·Όν•  μ μλ„λ΅ λΉΌμ£Όμ–΄ λ…Έν‹°ν”ΌμΌ€μ΄μ…μ λ“±λ΅κ³Ό ν•΄μ κ°€ κ°™μ€ centerκ°€ λμ•Όν•©λ‹λ‹¤.
  ```swift
  removeAllPendingNotificationRequests()
  ```
  Β : λ¨λ“  λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ ν•΄μ 

  μ—¬κΈ°μ„ μ²μ μ •λ³΄λ¥Ό μ°ΎμΌλ©° ν—·κ°λ Έλ λ¶€λ¶„μ€ pendingκ³Ό deliverμ€μµλ‹λ‹¤.
  μ•„λμ™€ κ°™μ΄ λ™μΌν• λ™μ‘μ„ ν• κ²ƒ κ°™μ€ λ©”μ„λ“κ°€ μμ—μµλ‹λ‹¤.
  ```swift
  removeDeliveredNotifications(withIdentifiers: [String])
  removeAllDeliveredNotifications()
  ```
  Β : μ„μ pending λ©”μ„λ“μ™€ μ°¨μ΄μ μ€ deliverλ” λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ μ „λ‹¬ν•λ”κ±Έ μ κ±°ν•΄μ£Όλ”κ²ƒμΈλ° μ΄ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ©΄ μƒμ„±λ λ…Έν‹°ν”ΌμΌ€μ΄μ…μ΄Β 
  μ κ±°λμ§€ μ•κ³  μ•λ¦Όμ΄ νΉμ •μ‹κ°„μ— λ‚νƒ€λ‚¬μµλ‹λ‹¤.
  -> pendingμ€ 'λ³΄λ¥μ¤‘' μ΄λΌλ” λ»μ„ κ°–κ³ μμµλ‹λ‹¤.
  μ΄μ— μ¶”μΈ΅ν•μλ©΄ μƒμ„±λ λ…Έν‹°ν”ΌμΌ€μ΄μ…μ€ λ³΄λ¥μ¤‘μΈ μƒνƒμ΄λ©° pending κ΄€λ ¨ λ©”μ„λ“λ¥Ό ν†µν•΄ λ³΄λ¥μ¤‘μΈ λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ ν•΄μ ν•΄μ¤μ•Ό λ  κ²ƒ κ°™μµλ‹λ‹¤.

  **PendingNotificationRequests μ •λ³΄ μ–»κΈ°**
  ```swift
  func getPendingNotificationRequests(completionHandler: ([UNNotificationRequest]) -> Void) {}
print(center.getPendingNotificationRequests(completionHandler: {requests in
    for request in requests {
        print(request)
    }
}))
  ```
  : μ„μ™€ κ°™μ€ μ½”λ“λ¥Ό ν†µν•΄ λ³΄λ¥μ¤‘μΈ λ…Έν‹°ν”ΌμΌ€μ΄μ… λ€κΈ°μ—΄μ μ •λ³΄λ¥Ό μ–»μ„ μ μμµλ‹λ‹¤.

  
- #### [λλ‚€μ ]
  λ΅μ»¬ λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ μ •λ§ μ μ ν μ μ‚¬μ©ν•κ³  ν•΄μ μ™€ μ¬νΈμ¶λ“±μ μ‹μ μ„ κµ¬λ¶„ν•  μ μλ” λ¥λ ¥μ΄ ν•„μ”ν• κ²ƒ κ°™μµλ‹λ‹¤.
  ν•΄μ κ°€ λκ² κ°„λ‹¨ν•  μ¤„ μ•μ•λ”λ° μ½”λ“ κµ¬ν„μ€ μ‰¬μ°λ‚ μ–΄λ””μ„ μ–΄λ–»κ² μ‚¬μ©ν•λ”μ§€μ— λ€ν•΄ λ§μ΄ κ³ λ―Όμ΄ ν•„μ”ν–μµλ‹λ‹¤.
  κ·Έλλ„ λ΅μ»¬ λ…Έν‹°ν”ΌμΌ€μ΄μ…μ„ μ μ ν ν™μ©ν•΄λ³΄λ©΄μ„ μ½”λ“λ¥Ό κµ¬ν„ν•΄λ³΄λ” μ¬λ―Έλ¥Ό λκΌμµλ‹λ‹¤!!π¤“

- #### [μ°Έκ³ μλ£]
https://stackoverflow.com/questions/31951142/how-to-cancel-a-localnotification-with-the-press-of-a-button-in-swift