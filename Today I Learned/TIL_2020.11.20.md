## TIL (Today I Learned)

### 11월 20일 (금)

- #### 학습내용
  오늘은 Step1을 진행하며 쥬스를 만드는 메서드에서 소진되는 재고수량에 대해 더 효율적인 구조로 나타내려면 어떻게 해야할지에 대한 고민들을 가지고 학습을 하였다. 메서드안에 상수 소진수량을 써서 나타내는방법으로 이전보다 좀 더 효율적이여졌지만, 추후 유지보수를 할때 베스트의 방법은 아니라고 느껴왔다. 모각코에서 캠퍼와 리뷰어들과 의견을 주고받으며 프로토콜와 구조체를 통해 효율적으로 정의할 수 있다고 생각했다. 아직 프로토콜에 대해 정확하게 알지 못하였기에 오늘의 학습은 프로토콜로 정하고 공부하였다. 

    - 프로토콜 : 어떤 기능을 실행하기 위해 프로퍼티와 메서드 그리고 다른 기능들의 틀? 이라고 생각한다. 내가 느끼기엔 처음 학습을 하며 클래스와 같은데 왜 사용을하며 어떤 측면에서 다른걸까 의문을 가진채 진행하였다. 우선 스위프트는 객체 지향이면서 프로토콜 지향 언어이기도 하다. 스위프트의 대부분은 기본 타입이 구조체로 구현되어있다. 클래스는 상속을 받아 구현되지만 구조체는 상속이 되지 않는데 어떻게 기본 타입들의 공통된 기능을 가질 수 있는건지 접할수록 의문만 들었다. 우선 프로토콜은 아래와 같이 틀을 만들고 구조체를 통해 그 틀의 정해진 요구사항을 구현한다.
      ```swift
  protocol Sport {
      var player: String { get set }
        func shoot()
  }
struct Football: Sport {
	      var player: String = “Green”
	      func shoot() {
		      print(“\(player)가 골을 넣었습니다.”)
	      }
}
      ```
  이런식으로 프로토콜을 선언하고 구조체에서 프로토콜을 채택하여 기능들을 정의하여 구현한다. 이렇게 공통의 기능을 할 수 있게 프로토콜을 정의해둔다면 여러 구조체에서 해당 프로토콜을 채택하여 원하는 방식대로 사용하면된다. 그러나 위의 방식대로하면 프로토콜의 프로퍼티와 메서드를 전부 꼭 구현해주어야 한다. 그러면 너무 힘들어지지 않겠는가..? 그래서 extension이 존재한다.
    - extension : 해당 단어를 파파고에서 찾아보았다. 연장/확대/증축 이런단어의 의미가 있다. 뭐길래 대체 확장의 개념으로 쓰이는지 찾아보았다. 프로토콜을 정의하면 해당 사항들을 전부 구조체에서 꼭 구현해야한다고 했는데 이것의 어려움을 해소해줄수 있다. 익스텐션을 사용하여 초기 기능을 정의해주면 구조체에서 해당 기능을 구현하지 않더라도 오류가 나지 않는다. 아래와 같이 사용된다. (위 코드의 연장으로 보겠다.)
      ```swift
extension Sport {
	      func shoot() {
  	    print(“\(player)가 골을 넣었습니다.”)
        }
  }
struct Baseball: Sport {
  	  var player: String = “Red”
  }
      ```
  이렇게 하면된다. 만약 해당 기능에 대한 초기 구현말고 다른 동작을 원할때는 그냥 단순하게 기능을 재정의 해주면된다.
  어떻게 보면 되게 단순한게 생각이 되어 이해가 되는데 막상 코드로 구현하면서 생각해보면 어느시점에 정확하게 써야되는지 감이 오지 않고있다 현재는.. 

    - 그럼 왜 프로토콜을 지향해야 될까 ? 클래스 대신 기본 타입에서도 쓰이고 지향되는 이유가 뭘까 ? 
내가 생각하기론 클래스는 참조 타입이고 구조체는 값 타입이다. 구조체가 상속이 된다면 좋겠지만 상속은 클래스 타입에서만 가능하다. 근데 참조 타입으로 사용하면 참조를 추적하는 과정들을 거치기에 값 타입을 활용하는것보다 무거울것 같다. 더 많은 시간? 비용? 메모리? 등이 들것같다고 생각한다. 이에 구조체를 활용하려는데 마침 상속이 없어도 기능을 다시 매번 구현해주지 않아도 되는 프로토콜이 나왔으니 프로토콜이 지향 받는 언어가 된거라 생각한다. 
그리고 또 프로토콜로 초기 구현을 해둠으로써 모듈화가 되는것 같다. 쥬스 메이커에 적용을 해보려 시도하면서 느꼈던게 프로토콜과 구조체로 사용하면 확실히 모듈화에 장점이 있어 유지보수가 편할거라 생각이 들었다. 아직 이렇게 오늘은 궁금했던 프로토콜에 대해 집중적으로 학습을 해봤지만 감이 올듯 말듯 하다. 빠르게 다 이해하기보다 하루에 조그마한 개념 하나라도 완벽하게 이해하면 만족하고 조바심을 버려야겠다.

- #### 문제점 / 고민한 점
이번주 Step 1을 진행하면서 물론 구조적인 부분도 많은 학습을 하며 수정해나아갔지만 추가로 메서드와 변수명/파라미터명에 대해 고민을 많이 하였다. 명칭을 짓는건 굉장히 어떻게 보면 가장 어려운 작업일거라고도 생각했다. H.I.G를 학습하며 기준을 세운다고 세웠지만 메서드와 파라미터가 합쳐져서 지어야할때 그리고 여러 메서드에 중복된 단어들이 들어갈때 많은 고민이 되었다. 그래서 오늘은 주로 고민한점이 어떻게하면 가독성이 좋은 명칭을 선정하는지에 많은 고민을 했다.

- #### 고민점에 대한 해결노력
기존에는 메서드명과 매개변수명을 독립적으로 생각했었다. Step1 리뷰를 받으면서 메서드명과 매개변수명이 독립적인것이 아니고 하나의 흐름으로 볼 수 있다는 피드백을 받으며 수정하며 고민해나갔다. 예를들어 쥬스를 만드는 메서드명을 기존에는 makeJuice(juiceName :Juice) 이런식으로 메서드명에는 쥬스를 만드는 명칭을 파라미터에는 받아오는 쥬스이름으로 명칭을 지었다. 그런데 앞서 말한것처럼 메서드와 파라미터명을 이어서 흐름대로 본다면 makeJuicejuiceName이 되기에 굉장히 어색하고 가독성이 좋지 않다고 느껴졌다. 이에 1차적으로 makeJuice(name: Juice)로 수정하였는데, 생각해보니 이제 흐름은 괜찮아졌으나 매개변수명을 보자면 쥬스 타입인데 name만보면 어떤 인자를 받아와야하는지 헷갈리겠다고 생각이 들었다. 그래서 make(juiceName: Juice)로 최종 변경을 하였다. 아직 고민되는 부분도 있지만 그래도 명칭에 대해 많은 고민을 하며 하나씩 수정되는 부분에서 배워나가고 있다고 생각한다. 나만 알아보고 나한테만 가독성이 높은 명칭보다 통상적으로 개발자들도 어떤 단어는 이렇게 쓴다 이런것들을 더 많이 찾아보고 학습해야겠다.

- #### 참고자료
https://swift.org/documentation/api-design-guidelines/#naming