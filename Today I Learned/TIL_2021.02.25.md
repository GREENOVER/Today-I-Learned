## TIL (Today I Learned)

### 2ì›” 25ì¼ (ëª©)

- #### [í•™ìŠµë‚´ìš©]

  - íŒŒì¼ ì‹œìŠ¤í…œ?
   : íŒŒì¼/ìë£Œë¥¼ íƒìƒ‰/ì ‘ê·¼/ë³´ê´€ ë“±ì˜ ê¸°ëŠ¥ìœ¼ë¡œ íŒŒì¼ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œ (ì˜êµ¬ ì €ì¥ì†Œ ê´€ë¦¬)
   : OS <-> File System <-> Disk

  - ì• í”Œ íŒŒì¼ ì‹œìŠ¤í…œ?
   : Apple file system, APFSë¡œ ë¶ˆë¦¬ë©° ì• í”Œì—ì„œ macOS, iOS, watchOS, tvOS ëª¨ë‘ì—ì„œ ë²”ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“  íŒŒì¼ ì‹œìŠ¤í…œ
   : ë””ìŠ¤í¬ íŒŒì¼ ì‹œìŠ¤í…œ (ë””ìŠ¤í¬ ë“œë¼ì´ë¸Œ ê´€ë¦¬)
   : ê¸°ì¡´ HFS+ ëŒ€ì²´í•˜ëŠ” ì‹ ê·œ íŒŒì¼ ì‹œìŠ¤í…œ
   : iOSì—ì„œëŠ” 10.3 ë²„ì „ë¶€í„° macOSì—ì„œëŠ” í•˜ì´ ì‹œì—ë¼ ë²„ì „ë¶€í„° ë„ì…

  - ì• í”Œ íŒŒì¼ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥
   1) ì»¨í…Œì´ë„ˆ ë°©ë²• ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ë‚´ íŒŒí‹°ì…˜ ìš©ëŸ‰ ì¡°ì ˆ
   2) ì¹´í”¼ ì˜¨ ë¼ì´íŠ¸ ì§€ì› -> ìŠ¤ëƒ…ìƒ· ìš©ì´
   3) ê°•ë ¥í•œ ì•”í˜¸í™” ê¸°ëŠ¥ ì¶”ê°€

  - iOS File System
   : iOS íŒŒì¼ ì‹œìŠ¤í…œì€ í•´ë‹¹ ê°ê°ì˜ ì•±ì— ë§ì¶°ì ¸ìˆìŒ (ì‹œìŠ¤í…œ ê°„ê²°ì„± ë° ë³´ì•ˆ ì¸¡ë©´)
   : ì•± SandBox ë””ë ‰í† ë¦¬ ë‚´ë¶€ì—ì„œ íŒŒì¼ ì‹œìŠ¤í…œê³¼ ìƒí˜¸ì‘ìš© (ì•± ì„¤ì¹˜ ì‹œ ê° ê¸°ëŠ¥ì˜ ì»¨í…Œì´ë„ˆë¥¼ SandBoxì— ë‹´ìŒ)
   1) Bundle Container: ì•± ë²ˆë“¤
   2) Data Container: ì•±/ìœ ì € ë°ì´í„° // í•´ë‹¹ ì»¨í…Œì´ë„ˆì•ˆì— ì„œë¸Œ ë””ë ‰í† ë¦¬ê°€ ìƒì„±ë˜ì–´ ë°ì´í„°ë¥¼ ê´€ë¦¬
   3) iCloud Container: iCloud ê´€ë ¨ ë°ì´í„°
 ![image-20210409100806028](/Users/chanwoo/Library/Application Support/typora-user-images/image-20210409100806028.png)
: iOS íŒŒì¼ ì‹œìŠ¤í…œ
  ![image-20210409100812245](/Users/chanwoo/Library/Application Support/typora-user-images/image-20210409100812245.png)
: macOS íŒŒì¼ ì‹œìŠ¤í…œ
  - ë‹¤ì–‘í•œ ë””ë ‰í† ë¦¬
    - AppName.app: ë²ˆë“¤ íŒŒì¼ë¡œ ì½ê¸°ì „ìš©, ì•± ì„¤ì¹˜ ì‹œ CodeSignatureì— ë‹´ìŒ
    - Document: ë¬¸ì„œ, ë°ì´í„° ë° ê°ì¢… íŒŒì¼ ì €ì¥ (ìœ ì € ë°ì´í„°) // ìœ ì €ì—ê²Œ ë³´ì—¬ì§
    - Library: ìœ ì € ë°ì´í„° ì™¸ íŒŒì¼ // ìœ ì €ì—ê²Œ ë³´ì—¬ì§€ì§€ ì•ŠìŒ (ì„œí¬íŠ¸íŒŒì¼ / ìºì‹œ / Preferences ë“±)
    - tmp: ì„ì‹œ íŒŒì¼
    - iCloud: ì•„ì´í´ë¼ìš°ë“œ ì‚¬ìš©í•˜ëŠ” ì•± íŒŒì¼ ì €ì¥

  - FileManager
   : íŒŒì¼ ì‹œìŠ¤í…œì„ ë‹¤ë£¨ëŠ” í´ë˜ìŠ¤

  - Directory(í´ë”) ìƒì„± ë‹¨ê³„
   1) íŒŒì¼ë§¤ë‹ˆì € ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  ```swift
    let fileManager = FileManager.default
  ```
  â€‹       2) ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  ```swift
   let documentsURL = fileManager.urls(for: .documentDirectory, in: .userDomainMask)[0]
  ```
  â€‹       3) í´ë” ìƒì„±
  ```swift
    let order = documentURL.appendingPathComponent(â€œGREENâ€)
  	  if !fileManager.fileExists(atPath: forder.path) {
		  do {
			  try fileManager.createDirectory(atPath: forder.path, withIntermediateDirectories: true, attributes: nil)
		  } catch {
			  NSLog(â€œERRORâ€)
		  }
	 }
	```

  - File ìƒì„± ë‹¨ê³„
        1) íŒŒì¼ë§¤ë‹ˆì € ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  ```swift
    let fileManager = FileManager.default
  ```
  â€‹            2) ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

  ```swift
    let documentsURL = fileManager.urls(for: .documentDirectory, in: .userDomainMask)[0]
  ```
  â€‹            3) íŒŒì¼ëª… ì§€ì •
  
  ```swift
    let fileURL - documentsURL.appendingPathComponent(â€œGREEN.txtâ€)
  ```
  â€‹            4) íŒŒì¼ ë‚´ìš© ìƒì„±
  
  ```swift
    let text = NSString(string: â€œgreenâ€)
    try? text.write(to: fileURL, atomically: true, encoding: String.Encoding.utf8.rawValue)
  ```
  - FIleì„ í´ë”ì— ìƒì„±
  ```swift
    let documentsURL = fileManager.urls(for: .documentDirectory, in: .userDomainMask)[0].appendingPathComponent(â€œGREENâ€)
  ```



- #### [í™œë™í•™ìŠµ]
iOS File Systemì—ì„œ ê° ì˜ì—­ì˜ íŠ¹ì„±ì€ ë¬´ì—‡ì´ ìˆëŠ”ì§€ ì‚´í´ë³´ê³ , â€¨ë‹¤ìŒì˜ ë°ì´í„°ëŠ” ì–´ëŠ ì˜ì—­ì— ì €ì¥í•˜ëŠ” ê²ƒì´ ì¢‹ì„ì§€ í† ì˜í•´ë´…ì‹œë‹¤ğŸ˜ƒâ€¨â€¨- ë™ì˜ìƒ í”Œë ˆì´ì–´ì˜ ë™ì˜ìƒ íŒŒì¼
  : Data Container - Documentsâ€¨- ì›¹ ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ ì„ì‹œ ë°ì´í„°
  : Data Container - Tempâ€¨- ì‚¬ìš©ìê°€ ì‘ì„±í•œ ì„ì‹œ ë©”ëª¨
  : Data Container - Tempâ€¨- ë©”ëª¨ì¥ ì•±ì˜ ì½”ì–´ë°ì´í„° ì €ì¥ì†Œ
  : Documents / Libraryâ€¨- ë‚´ ì¼ê¸°ë¥¼ ì™¸ë¶€ë¡œ ë‚´ë³´ë‚´ê¸° ìœ„í•œ ë°±ì—…íŒŒì¼
  : Data Container - Documentsâ€¨- ì±„íŒ… ì•±ì˜ ëŒ€í™”ë‚´ì—­
  : Data Container - Documentsâ€¨- ì–´ì ¯ë°¤ ìˆ ì·¨í•´ ë‚¨ê²¨ë‘” ìŒì„±ë©”ëª¨
  : Data Container - Documentsâ€¨- ì‚¬ì§„í¸ì§‘ì„ ìœ„í•´ ì‚¬ì§„ì²©ì—ì„œ ê°€ì ¸ì˜¨ ì‚¬ì§„
  : Data Container - Documents
  

- #### [ì°¸ê³ ìë£Œ]
  https://ko.wikipedia.org/wiki/ì• í”Œ_íŒŒì¼_ì‹œìŠ¤í…œ
  https://medium.com/@Alpaca_iOSStudy/ios-íŒŒì¼-ì‹œìŠ¤í…œ-35e61a85a3f8
  https://macnews.tistory.com/4603
  https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html#//apple_ref/doc/uid/TP40010672-CH2-SW13
  https://zeddios.tistory.com/435
  https://zeddios.tistory.com/440

