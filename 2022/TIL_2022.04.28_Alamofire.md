## TIL (Today I Learned)

### 4ì›” 28ì¼ (ëª©)   

- #### [í•™ìŠµë‚´ìš©]    
  ### Alamofire          
  
  #### Alamofire???        

  ê³µì‹ ê¹ƒí—™ ë ˆí¬ ë¦¬ë“œë¯¸ì—ì„œ ì•Œë¼ëª¨íŒŒì´ì–´ë¥¼ ì´ë ‡ê²Œ ì†Œê°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.   
  AlamofireëŠ” Swiftë¡œ ì‘ì„±ëœ HTTP ë„¤íŠ¸ì›Œí‚¹ ë¼ì´ë¸ŒëŸ¬ë¦¬   
  ì ì´ë§ì´ ë­˜ê¹Œìš”??      
  ì•„ì£¼ ê°„ë‹¨í•´ìš”.   
  ìš°ë¦¬ëŠ” ê¸°ì¡´ì— HTTP ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í• ë•Œ ì• í”Œì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ë§Œë“¤ì–´ë†”ì„œ ì œê³µí•´ì£¼ëŠ” URLSessionì„ ì´ìš©í•´ì„œ í†µì‹ ì„ í–ˆì–´ìš”.    
  ê·¼ë° ë§‰ìƒ ì´ê²Œ ìµìˆ™í•´ì§€ì§€ ì•Šì„ë•ŒëŠ” ì–´ë µê³  ìµìˆ™í•´ì ¸ë„ ë²ˆê±°ë¡œìš´ ì‘ì—…ë“¤ì´ ë§ë‹¤ê³  ëŠê»´ì¡Œì–´ìš”.    
  ì¦‰ ì–´ë µë‹¤ê³  ëŠê»´ì§€ëŠ” ë„¤íŠ¸ì›Œí¬ í†µì‹  ì‘ì—…ì„ ì•Œë¼ëª¨íŒŒì´ì–´ êµ¬í˜„ìœ¼ë¡œ ë‚´ë¶€ë¡œ ê°ì¶”ê³  ìš°ë¦¬ëŠ” ì‰½ê²Œ ê²‰ìœ¼ë¡œ êµ¬í˜„ëœ ë…€ì„ë“¤ì„ ì‚¬ìš©í•˜ë©´ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.    
  ì–´ë–»ê²Œ ë³´ë©´ ë¶ˆí•„ìš”í•œê±¸ ì‹¸ë§¤ê³  ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í• ë•Œ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œë“¤ì„ ë‹¨ìˆœí•˜ê²Œ ì‚¬ìš©í•˜ê²Œë” ë¶„ë¦¬í•´ë†“ì•˜ë‹¤ê³  ë³´ë©´ ë©ë‹ˆë‹¤ğŸ‘    
  ê·¸ë˜ì„œ ì œê°€ ìƒê°í•˜ê¸°ë¡  URLSessionì„ ë³´ë‹¤ ê°œë°œìê°€ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ì¤€ê²Œ ìš” ì•Œë¼ëª¨íŒŒì´ì–´ë‹¤! ì…ë‹ˆë‹¤.    
  ê·¸ë˜ì„œ ì•Œë¼ëª¨íŒŒì´ì–´ì˜ ë‚´ë¶€ êµ¬ì„±ì„ ê¹Œë³´ë©´ ë‹¹ì—°í•˜ê² ì§€ë§Œ URLSessionì„ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤ğŸ™Œ    

  ì ê·¸ëŸ¼ ì•Œë¼ëª¨íŒŒì´ì–´ë¥¼ ì‚¬ìš©í•˜ê¸°ì „ ì„¤ì¹˜ë¶€í„° í•´ì•¼ê² ì£ ?    

  #### Alamofire ì„¤ì¹˜í•˜ê¸°    

  ìš°ë¦¬ê°€ ì•Œê³  ìˆëŠ” ì˜ì¡´ì„± ê´€ë¦¬ë„êµ¬ ëª¨ë‘ ë‹¤ ì‚¬ìš©í•´ì„œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.    
  ì¦‰ ì½”ì½”ì•„íŒŸ, SPM, ì¹´ë¥´íƒ€ê³  ëª¨ë‘ ëª¨ë‘ ê°€ëŠ¥í•´ìš”ğŸ‘    
  ì•Œë¼ëª¨íŒŒì´ì–´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ìµœì†Œ íƒ€ê²Ÿì€ iOS 10.0 ì´ìƒì…ë‹ˆë‹¤!    
  ë­ ê±°ì˜ ìµœì†Œ íƒ€ê²Ÿì„ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë  ì •ë„ ì…ë‹ˆë‹¤ğŸ˜€    

  #### Alamofire ë©”ì„œë“œ    
  ì•Œë¼ëª¨íŒŒì´ì–´ë¡œ ê°€ì¥ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë„¤íŠ¸ì›Œí‚¹ ë©”ì„œë“œë¡œëŠ” 3ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.    
  1. request   
  - ìš°ë¦¬ê°€ í”íˆ ì•Œê³ ìˆëŠ” ë‹¨ìˆœí•œ HTTP í†µì‹  ìš”ì²­   
  2. upload   
  - íŒŒì¼, ë©€í‹°íŒŒíŠ¸ í¼ ë°ì´í„°, ìŠ¤íŠ¸ë¦¼ ë“±ì„ í†µí•´ íŒŒì¼ ì—…ë¡œë“œ    
  3. download   
  - íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ    

  #### Alamofireì˜ Requestì™€ Response    
  ì–´ë–¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° URLSessionë“¤ë„ ê·¸ë ‡ì§€ë§Œ ë‹¹ì—°í•˜ê²Œ ì„œë²„ì™€ í†µì‹ ì„ í• ë•Œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°ë˜ëŠ”ê²Œ 2ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.    
  ì²«ë²ˆì§¸ë¡œ requestì´ê³  ë‘ë²ˆì§¸ë¡œ responseì…ë‹ˆë‹¤.    
  ë‹¹ì—°íˆ ìš”ì²­ì„ ë‹´ì•„ ì„œë²„ì— ë³´ë‚´ì•¼ë ê²ƒì´ê³ , ì´ ìš”ì²­ì„ ì„œë²„ì—ì„œ ì²˜ë¦¬ í›„ ì‘ë‹µì„ í´ë¼ì— ì£¼ì–´ì•¼í•©ë‹ˆë‹¤.   
  ì—¬ê¸°ì„œ ìš”ì²­ì€ requestì´ê³  ì‘ë‹µì€ responseì…ë‹ˆë‹¤.   
  ê·¸ëŸ¼ ê°„ë‹¨íˆ í•˜ë‚˜ì”© ì‚´í´ë³´ì£ !   
  1. request   
  ìš”ì²­ìœ¼ë¡œ ë³´ë‚¼ ìˆ˜ ìˆëŠ” HTTPMethodë¥¼ ì•Œë¼ëª¨íŒŒì´ì–´ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ enumìœ¼ë¡œ ì •ì˜í•´ë’€ìŠµë‹ˆë‹¤.    
  ```swift
  public struct HTTPMethod: RawRepresentable, Equatable, Hashable {
      /// `CONNECT` method.
      public static let connect = HTTPMethod(rawValue: "CONNECT")
      /// `DELETE` method.
      public static let delete = HTTPMethod(rawValue: "DELETE")
      /// `GET` method.
      public static let get = HTTPMethod(rawValue: "GET")
      /// `HEAD` method.
      public static let head = HTTPMethod(rawValue: "HEAD")
      /// `OPTIONS` method.
      public static let options = HTTPMethod(rawValue: "OPTIONS")
      /// `PATCH` method.
      public static let patch = HTTPMethod(rawValue: "PATCH")
      /// `POST` method.
      public static let post = HTTPMethod(rawValue: "POST")
      /// `PUT` method.
      public static let put = HTTPMethod(rawValue: "PUT")
      /// `QUERY` method.
      public static let query = HTTPMethod(rawValue: "QUERY")
      /// `TRACE` method.
      public static let trace = HTTPMethod(rawValue: "TRACE")
  
      public let rawValue: String
  
      public init(rawValue: String) {
          self.rawValue = rawValue
      }
  }
  ```
  ì—¬ê¸°ì„œ ê±°ì˜ Get / Post / Delete / Patch / Put ì •ë„?ë¥¼ ì €ëŠ” ì¼ë˜ê²ƒ ê°™ì€ë° ê·¸ì™¸ì— ì´ë ‡ê²Œ ë‹¤ì–‘í•œê²ƒì„ ì œê³µí–ˆë„¤ìš”ğŸ§    
  ì´ë ‡ê²Œ ì •ì˜ëœ ìš”ì²­ì„ ì•„ë˜ì™€ ê°™ì´ request ë©”ì„œë“œë¥¼ í†µí•´ ì›í•˜ëŠ” API ì„œë²„ì— ì°”ëŸ¬ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.    
  ```swift
  AF.request("https://green.com/get")
  AF.request("https://green.com/post", method: .post)
  AF.request("https://green.com/delete", method: .delete)
  ```
  Get ìš”ì²­ì€ ë°”ë””ì— ê°’ì„ ë„£ì–´ ìš”ì²­í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!    

  2. response    
  ìš”ì²­ì„ ë°›ì•˜ìœ¼ë©´ ë­ë‹¤? ì‘ë‹µì„ ë°›ì•„ì•¼í•œë‹¤~    
  ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ìš”ì²­ì„ í•˜ê³  response ë©”ì„œë“œë¥¼ í†µí•´ ë°›ì„ ìˆ˜ ìˆì–´ìš”.    
  ```swift
  AF.request("https://green.com/get")
    .response()
  ```
  ê°„ë‹¨í•˜ì£ ?    
  ì•Œë¼ëª¨íŒŒì´ì–´ê°€ êµ¬í˜„ëœ ì†ŒìŠ¤ì½”ë“œë¥¼ ê¹Œë³´ë©´ ResponseSerialization.swift íŒŒì¼ì—ì„œ ìš” responseë¥¼ ê°ê¸° ë‹¤ë¥¸ ë°ì´í„°ë¡œ ë°›ì•„ì˜¬ ìˆ˜ ìˆë„ë¡ Response Handlerë“¤ì´ ìµìŠ¤í…ì…˜ìœ¼ë¡œ ì—¬ëŸ¬ê°€ì§€ë¡œ êµ¬ë¶„ë˜ì–´ ìˆì–´ìš”!    
  ì´ê±¸ í•œë²ˆ ë³´ì‹œì£ ..!    
  1. response    
  - ë‹¨ìˆœíˆ ìš”ì²­ì— ì˜í•´ ë°˜í™˜ëœ ì‘ë‹µê°’ì„ ì „ë‹¬    
  ```swift
  AF.request("https://green.com/get")
    .response { data in
    // data í›„ì† ì²˜ë¦¬ 
  }
  ```
  2. responseData    
  - ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ì •ì˜ë˜ì–´ ìˆìœ¼ë©° ì‘ë‹µìœ¼ë¡œ ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ ìœ íš¨ì„±ì„ ì²´í¬í•˜ê³  ë°ì´í„°ë¡œ ì „ë‹¬    
  ```swift
  public func responseData(
    queue: DispatchQueue = .main,
    dataPreprocessor: DataPreprocessor = DataResponseSerializer.defaultDataPreprocessor,
    emptyResponseCodes: Set<Int> = DataResponseSerializer.defaultEmptyResponseCodes,
    emptyRequestMethods: Set<HTTPMethod> = DataResponseSerializer.defaultEmptyRequestMethods,
    completionHandler: @escaping (AFDataResponse<Data>) -> Void
  ) -> Self {
    response(
      queue: queue,
      responseSerializer: DataResponseSerializer(
        dataPreprocessor: dataPreprocessor,
        emptyResponseCodes: emptyResponseCodes,
        emptyRequestMethods: emptyRequestMethods
      ),
      completionHandler: completionHandler
    )
  }
  ```
  ë³´ë©´ DataResponseSerializerë¥¼ ì´ìš©í•˜ë„¤ìš”ğŸ§   
  ì•„ë˜ì™€ ê°™ì´ ê°„ë‹¨íˆ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.    
  ```swift
  AF.request("https://green.com/get")
    .responseData { data in
    // data í›„ì† ì²˜ë¦¬ 
  }
  ```
  3. responseString    
  - ìœ„ responseDataì™€ ë¹„ìŠ·í•˜ê²Œ ì‘ë‹µìœ¼ë¡œ ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ ì¸ì½”ë”©ì„ ì‹œì¼œ String ì¦‰ ë¬¸ìì—´ë¡œ ì „ë‹¬   
  ```swift
  public func responseString(
    queue: DispatchQueue = .main,
    dataPreprocessor: DataPreprocessor = StringResponseSerializer.defaultDataPreprocessor,
    encoding: String.Encoding? = nil,
    emptyResponseCodes: Set<Int> = StringResponseSerializer.defaultEmptyResponseCodes,
    emptyRequestMethods: Set<HTTPMethod> = StringResponseSerializer.defaultEmptyRequestMethods,
    completionHandler: @escaping (AFDataResponse<String>) -> Void
  ) -> Self {
    response(
      queue: queue,
      responseSerializer: StringResponseSerializer(
        dataPreprocessor: dataPreprocessor,
        encoding: encoding,
        emptyResponseCodes: emptyResponseCodes,
        emptyRequestMethods: emptyRequestMethods
      ),
      completionHandler: completionHandler
    )
  }
  ```
  ìš” ì¹œêµ¬ëŠ” StringResponseSerializerë¥¼ ì‚¬ìš©í•´ ì¸ì½”ë”©ì‹œí‚¤ê³  ë¬¸ìì—´ë¡œ ë³€ê²½í•´ì£¼ëŠ”ê²ƒ ê°™ì•„ìš”!
  ì‚¬ìš©ì€ ì•„ë˜ì²˜ëŸ¼~    
  ```swift
  AF.request("https://green.com/get")
    .responseString { data in
    // data í›„ì† ì²˜ë¦¬ 
  }
  ```
  4. responseJSON    
  - ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ JSONResponseSerializerë¥¼ ì´ìš©í•´ì„œ Any íƒ€ì…ìœ¼ë¡œ ë³€ê²½í•´ ì „ë‹¬    
  ```swift
  public func responseJSON(
    queue: DispatchQueue = .main,
    dataPreprocessor: DataPreprocessor = JSONResponseSerializer.defaultDataPreprocessor,
    emptyResponseCodes: Set<Int> = JSONResponseSerializer.defaultEmptyResponseCodes,
    emptyRequestMethods: Set<HTTPMethod> = JSONResponseSerializer.defaultEmptyRequestMethods,
    options: JSONSerialization.ReadingOptions = .allowFragments,
    completionHandler: @escaping (AFDataResponse<Any>) -> Void
  ) -> Self {
    response(
      queue: queue,
      responseSerializer: JSONResponseSerializer(
        dataPreprocessor: dataPreprocessor,
        emptyResponseCodes: emptyResponseCodes,
        emptyRequestMethods: emptyRequestMethods,
        options: options
      ),
      completionHandler: completionHandler
    )
  }
  ```
  ìœ„ì—ì„œë„ ë§ˆì°¬ê°€ì§€ì§€ë§Œ ì»´í”Œë¦¬ì…˜ í•¸ë“¤ëŸ¬ë¥¼ ë³´ë©´ Anyíƒ€ì…ìœ¼ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.    
  ìš”ê²ƒë„ ì‚¬ìš©ì€ ì‰½ê²Œ..!   
  ```swift
  AF.request("https://green.com/get")
    .responseJSON { data in
    // data í›„ì† ì²˜ë¦¬ 
  }
  ```
  5. responseDecodable   
  - ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ DecodableResponseSerializerë¥¼ ì´ìš©í•´ Decodable íƒ€ì…ìœ¼ë¡œ ë³€ê²½í•´ ì „ë‹¬   
  ```swift
  public func responseDecodable<T: Decodable>(
    of type: T.Type = T.self,
    queue: DispatchQueue = .main,
    dataPreprocessor: DataPreprocessor = DecodableResponseSerializer<T>.defaultDataPreprocessor,
    decoder: DataDecoder = JSONDecoder(),
    emptyResponseCodes: Set<Int> = DecodableResponseSerializer<T>.defaultEmptyResponseCodes,
    emptyRequestMethods: Set<HTTPMethod> = DecodableResponseSerializer<T>.defaultEmptyRequestMethods,
    completionHandler: @escaping (AFDataResponse<T>) -> Void
  ) -> Self {
    response(
      queue: queue,
      responseSerializer: DecodableResponseSerializer(
        dataPreprocessor: dataPreprocessor,
        decoder: decoder,
        emptyResponseCodes: emptyResponseCodes,
        emptyRequestMethods: emptyRequestMethods
      ),
      completionHandler: completionHandler
    )
  }
  ```
  ì •ì˜ëŠ” ìš”ë ‡ê³  ì‚¬ìš©ì€ ì•„ë˜ì²˜ëŸ¼ ì‰½ê²Œ!    
  ```swift
  AF.request("https://green.com/get")
    .responseDecodable { data in
    // data í›„ì† ì²˜ë¦¬ 
  }
  ```
  6. responseStream    
  ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ DataStreamSerializerë¥¼ ì´ìš©í•´ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€ê²½í•´ ì „ë‹¬    
  ```swift
  public func responseStream<Serializer: DataStreamSerializer>(
    using serializer: Serializer,
    on queue: DispatchQueue = .main,
    stream: @escaping Handler<Serializer.SerializedObject, AFError>
  ) -> Self {
    let parser = { [unowned self] (data: Data) in
      self.serializationQueue.async {
        // Start work on serialization queue.
        let result = Result { try serializer.serialize(data) }
          .mapError { $0.asAFError(or: .responseSerializationFailed(reason: .customSerializationFailed(error: $0))) }
        // End work on serialization queue.
        self.underlyingQueue.async {
          self.eventMonitor?.request(self, didParseStream: result)
  
          if result.isFailure, self.automaticallyCancelOnStreamError {
            self.cancel()
          }
  
          queue.async {
            self.capturingError {
              try stream(.init(event: .stream(result), token: .init(self)))
            }
  
            self.updateAndCompleteIfPossible()
          }
        }
      }
    }
  
    $streamMutableState.write { $0.streams.append(parser) }
    appendStreamCompletion(on: queue, stream: stream)
  
    return self
  }
  ```
  ìš”ê±´ ì‚¬ì‹¤ ì¨ë³¸ì ì´ ì—†ì–´ì„œ í•™ìŠµì´ ë” í•„ìš”í•´ë³´ì…ë‹ˆë‹¤!   
  ì ì´ë ‡ê²Œ requestì™€ responseì„ ì•Œì•„ë´¤ì–´ìš”!    
  ê·¸ëŸ¼ ì´ì œ ì‹¤ì œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ í•´ë´ì•¼ê² ì£ ?   
  ì˜ˆì œ ì½”ë“œë¡œ í•œë²ˆ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ëŠ”ì§€ ë´…ì‹œë‹¤..!    
  
  #### Alamofire ì‚¬ìš©í•˜ê¸°    

  ê°ê¸° ì‚¬ìš©ì€ ë‹¤ë¥´ê² ì§€ë§Œ ì—ëŸ¬ì²˜ë¦¬ë„ í•´ì¤˜ì•¼í•˜ëŠ” ìƒí™©ì—ì„œ ì €ëŠ” ìš”ë ‡ê²Œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤!    
  ```swift
  alamofireSession.request(url, method: .patch, parameters: body, encoder: JSONParameterEncoder.default)
    .validate(statusCode: 200..<300)
    .publishData()
    .tryMap({ dataResponse -> ResponseDto in
      switch dataResponse.result {
      // ì‘ë‹µì— ëŒ€í•´ ì •ìƒì¼ ê²½ìš°
      case let .success(data):
        do {
          return try JSONDecoder().decode(ResponseDto.self, from: data)
        } catch {
          // Response ë””ì½”ë”© ì‹¤íŒ¨ì— ëŒ€í•œ ì—ëŸ¬ ì²˜ë¦¬
          throw ErrorFactory.decodeResponseDtoFailed(
            url: url,
            body: body,
            data: data,
            underlying: error
          )
        }
      // ì‘ë‹µì— ëŒ€í•´ ì‹¤íŒ¨í–ˆì„ë•Œ
      case let .failure(error):
        // ìš”ì²­ ì‹¤íŒ¨
        throw ErrorFactory.requestFailed(
          url: url,
          body: body,
          underlying: error
        )
      }
    })
    .tryMap({ dto -> ResponseDto in
      if dto.response.success == false {
        throw ErrorFactory.actionFailed(
          url: url,
          body: body,
          responseDto: dto
        )
      } else {
        return dto
      }
    })
  ```
  ì½”ë“œê°€ ì¢€ ì¥í™©í•˜ì§€ë§Œ ê°„ë‹¨íˆ ë³´ì‹œì£ !    
  ìš°ì„  patchë¡œ ìš”ì²­í•˜ëŠ”ë° bodyëŠ” ë§Œë“¤ì–´ì¤¬ë‹¤ ê°€ì •í•˜ê³  íŒŒë¼ë¯¸í„°ë¡œ ë‹´ì•„ì„œ ìš”ì²­í•©ë‹ˆë‹¤.    
  ê·¸ë¦¬ê³  ë³´ë©´ ì†Œê°œì•ˆí•œ validate ë©”ì„œë“œê°€ ìˆëŠ”ë°ìš”.    
  ì´ ë©”ì„œë“œëŠ” ìš”ì²­ì— ëŒ€í•´ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•´ì¤ë‹ˆë‹¤.    
  ì¦‰ ì‘ë‹µì„ ë°›ê¸°ì „ì— ì´ ìš”ì²­ì— ëŒ€í•´ì„œ ìœ íš¨í•œì§€ë¥¼ ê²€ì‚¬í•´ì£¼ëŠ”ê²ƒì´ì£ !   
  ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” 200ë²ˆëŒ€ ì‘ë‹µì„ ë°›ì•„ì•¼ ì„œë²„ í˜¹ì€ ìš”ì²­/í´ë¼ ì–´ë–¤ ì´ìŠˆë„ ì•„ë‹ˆë‹ˆ 200~299ê¹Œì§€ ìƒíƒœë¥¼ ì¸ìë¡œ ë„£ì–´ ì´ ìƒíƒœì¼ë•Œ ì•„ë˜ ë¡œì§ì„ ëŒë ¤ì¤„ê±°ë‹¤! ë¼ê³  ì‹¬ì–´ì¤ë‹ˆë‹¤.    
  ê·¸ë¦¬ê³  ë“¤ì–´ì˜¨ ì‘ë‹µê°’ìœ¼ë¡œëŠ” publishDataë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.    
  ë‹¤ìŒìœ¼ë¡œ ë‘ê°œì˜ tryMapìœ¼ë¡œ ì²«ë²ˆì§¸ëŠ” ì‘ë‹µì— ëŒ€í•œ ê²°ê³¼ë¥¼ ì •ìƒê³¼ ì‹¤íŒ¨ë¡œ ë‚˜ëˆ  ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•´ì¤ë‹ˆë‹¤.    
  ì •ìƒ ì‘ë‹µì¼ê²½ìš° ì‘ë‹µì— ëŒ€í•´ ë””ì½”ë”©ì„ ì‹œì¼œì¤˜ì•¼ê² ì£ ?   
  ë””ì½”ë”©ì—ì„œë„ ì‹¤íŒ¨í•  ê²½ìš°ëŠ” ì—ëŸ¬ì²˜ë¦¬ë¥¼ í•´ì¤ë‹ˆë‹¤.    
  ì°¸ê³ ë¡œ ì € ErrorFactoryë¡œ ì‚¬ìš©í•œ ì—ëŸ¬ë“¤ì€ ì„ì˜ë¡œ ë§Œë“ ê²ë‹ˆë‹¤!    
  (ë”°ë¼í•˜ì‹œë ¤ë©´ ë§Œë“œì…”ì•¼í•©ë‹ˆë‹¤ğŸ˜„)    
  ê·¸ë¦¬ê³  ì •ìƒì ìœ¼ë¡œ ì‘ë‹µì„ ë””ì½”ë”©í–ˆê³  ë‹¤ ëë‚¬ë‹¤ë©´ ë§ˆì§€ë§‰ìœ¼ë¡œ ìš”ì²­ì— ëŒ€í•´ ì •ìƒì ì¸ì§€ ì„±ê³µì—¬ë¶€ë¥¼ ì„œë²„ì—ì„œ ë³´ë‚´ì¤„ê²ƒì´ê³  ì´ ê°’ì„ ì €ëŠ” success ì‘ë‹µê°’ìœ¼ë¡œ ë°›ìœ¼ë‹ˆ ì €ë ‡ê²Œ í•œë²ˆ ë” tryMapìœ¼ë¡œ ì„±ê³µì´ë©´ ê·¸ëƒ¥ í•´ë‹¹ ì‘ë‹µ dtoë¥¼ ë¦¬í„´í•˜ê³  ì‹¤íŒ¨ë©´ ì—ëŸ¬ì²˜ë¦¬ë¥¼ í•´ì£¼ë„ë¡ í–ˆì–´ìš”!    

  ì.. ì´ë ‡ê²Œ ë§ˆë¬´ë¦¬ê°€ ë˜ì—ˆë‹µë‹ˆë‹¤ğŸ™Œ   

  #### ë§ˆë¬´ë¦¬   

  ì–´ë– ì‹ ê°€ìš”?   
  ì™œ ì•Œë¼ëª¨íŒŒì´ì–´ë¥¼ ë§ì´ ì“°ê³  URLSessionë³´ë‹¤ í¸ë¦¬í•˜ë‹¤ê³  í•˜ëŠ”ì§€ ì´í•´ê°€ ê°€ì‹œë‚˜ìš”?ã…ã…    
  ì €ëŠ” ë„¤íŠ¸ì›Œí¬ í†µì‹ ì€ ë§¤ë²ˆ í•´ë„ í†µì‹  ë¨¸ë¦¬ê°€ ì—†ëŠ”ì§€ í•­ìƒ í—·ê°ˆë¦¬ê³  ì–´ë µë„¤ìš”ğŸ¥²   
  ê·¸ë˜ë„ ì´ì™• ë¼ì´ë¸ŒëŸ¬ë¦¬ ì“°ëŠ”ê±° í•œë²ˆ ì½”ë“œë¥¼ ê¹Œë³´ì í–ˆì—ˆëŠ”ë° ì´ë ‡ê²Œ ê¹Œë³´ê²Œ ë˜ë„¤ìš”..!   
  ì–´ëŠì •ë„ ë˜ ì´í•´ê°€ ë˜ì—ˆëŠ”ë° ì•ˆì“°ë‹¤ë³´ë©´ ë˜ ê¹Œë¨¹ì„ê²ƒ ê°™ê¸°ë„í•˜ê³  í—ˆí—ˆ...ã…‹ã…‹   
  ê¾¸ì¤€íˆ í•´ì•¼ê² ìŠµë‹ˆë‹¤ğŸ˜   

  #### [ì°¸ê³ ìë£Œ]   
  https://green1229.tistory.com/240    
  https://github.com/Alamofire/Alamofire    
