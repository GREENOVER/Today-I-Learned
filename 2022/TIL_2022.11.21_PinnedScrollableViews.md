## TIL (Today I Learned)

### 11ì›” 21ì¼ (ì›”)

- #### [í•™ìŠµë‚´ìš©]

  ### SwiftUI - PinnedScrollableViews (a.k.a Sticky View)
    #### PinnedScrollableViews?

    iOS 14ì—ì„œë¶€í„° ì‚¬ìš©ê°€ëŠ¥í•˜ë©° ìŠ¤í¬ë¡¤ ë·°ì˜ ê²½ê³„ì— ê³ ì •ì„ ì‹œì¼œì¤„ ìˆ˜ ìˆëŠ” ë·° íƒ€ì… ì§‘í•©ì…ë‹ˆë‹¤.
    ì„ ì–¸ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.
    struct PinnedScrollableViews
    í•´ë‹¹ íƒ€ì…ì€ staic ë³€ìˆ˜ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ ë‘ê°œì˜ ê³ ì • ìœ„ì¹˜ ì„ íƒì„ ìœ„í•œ ê°’ì„ ì œê³µí•´ì¤ë‹ˆë‹¤.
    sectionHeadersì™€ sectionFootersë¥¼ í†µí•´ ìƒ / í•˜ë‹¨ ì›í•˜ëŠ” ìœ„ì¹˜ì— ê³ ì •ì´ ê°€ëŠ¥í•˜ì£ .
    ë˜í•œ ì¡°ê¸ˆ ë” ì»¤ìŠ¤í…€í•˜ê²Œ UInt32ì˜ ì›ì‹œê°’ì„ ì´ìš©í•´ PinnedScrollableViewsë¥¼ ì§ì ‘ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ìš”ì •ë„ë©´ ì•Œë©´ ì¶©ë¶„í•©ë‹ˆë‹¤!
    ê·¸ëŸ¼ ë°”ë¡œ ì‚¬ìš©í•´ë³´ë„ë¡ í•˜ì£ ğŸ•ºğŸ»

    #### LazyVStackì—ì„œ PinnedScrollableViews ì‚¬ìš©í•´ ìƒë‹¨ ê³ ì • ìŠ¤í¬ë¡¤ ë·° ë§Œë“¤ê¸°

    ë§ë³´ë‹¤ ì½”ë“œë¶€í„°ğŸ˜€
    ```swift
    import SwiftUI

    // StickyView
    struct ContentView: View {
      let colors: [Color] = [.red, .green, .yellow, .black, .gray, .blue, .brown, .purple, .orange]

      var body: some View {
        VStack {
          TitleView()

          ScrollView(showsIndicators: false) {
            ScrollTitleView()

            LazyVStack(pinnedViews: .sectionHeaders) {
              Section(header: HeaderView()) {
                VStack {
                  ForEach(colors, id: \.self) { color in
                    CellItemView(color: color)
                      .padding(.horizontal, 10)
                  }
                }
              }
            }
          }
        }
      }
    }

    private struct TitleView: View {
      fileprivate var body: some View {
        Text("Variant Colors")
          .font(.largeTitle)
          .bold()
      }
    }

    private struct ScrollTitleView: View {
      fileprivate var body: some View {
        Text("ScrollView Start Point")
          .font(.largeTitle)
          .bold()
      }
    }

    // Sticky Header
    private struct HeaderView: View {
      fileprivate var body: some View {
        HStack {
          Spacer()
          Text("This is Header")
            .font(.title)
            .bold()
            .foregroundColor(.blue)
          Spacer()
        }
        .background(.white)
      }
    }

    private struct CellItemView: View {
      private var color: Color

      fileprivate init(color: Color) {
        self.color = color
      }

      fileprivate var body: some View {
        RoundedRectangle(cornerRadius: 20)
          .foregroundColor(color)
          .frame(height: 100)
      }
    }
    ```
    ìš°ì„  ì½”ë“œê°€ ê°„ë‹¨í•´ì„œ ë‹¤ë¥¸ ë¶€ë¶„ì€ ìƒëµí•˜ê³  ì¤‘ìš”í•œ ë¶€ë¶„ë§Œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.
    LazyVStack ìƒì„± ì‹œ pinnedViews ì¡°ê±´ì„ sectionHeadersë¡œ ì¤ë‹ˆë‹¤.
    ê·¸ëŸ¼ ìŠ¤í‹°í‚¤í•˜ê²Œ í—¤ë”ëŠ” ìƒë‹¨ì— ê³ ì •ë˜ì£ !
    ê·¸ ë‹¤ìŒ Section headerì— ë§Œë“  HeaderViewë¥¼ ë‹´ì•„ì¤ë‹ˆë‹¤.
    ê·¸ëŸ¬ë©´ ì´ì œ ì •ë§ ê³ ì •ëœ ìŠ¤í¬ë¡¤ í—¤ë” ë·° ì™„ì„±ğŸš€
    ê·¸ ë°‘ìœ¼ë¡œëŠ” ììœ ë¡­ê²Œ êµ¬ì„±í•´ì£¼ë©´ ë©ë‹ˆë‹¤ğŸ™Œ

    ì—¬ê¸°ì„œ ì¤‘ìš”í•œì ì€ Sticky Headerë¥¼ ë§Œë“¤ë•Œ backgroundë¥¼ ì£¼ì§€ ì•Šìœ¼ë©´ ì˜¤ë²„ë ˆì´ì²˜ëŸ¼ ì¤‘ì²©ë˜ì–´ ë‚˜íƒ€ë‚˜ë³´ì…ë‹ˆë‹¤.
    ì´ëŸ° ë¶ˆìƒì‚¬ë¥¼ ë§‰ê¸° ìœ„í•´ Sticky Headerë¥¼ ë§Œë“¤ë•Œ backgroundì˜ ìƒ‰ìƒì„ whiteë¡œ ì£¼ë©´ ì¶©ë¶„í•´ì§‘ë‹ˆë‹¤.
    ì•„ë§ˆë„ PinnedScrollableViewsë¥¼ ìœ„í•´ ë§Œë“¤ì–´ì§€ëŠ” Headerì˜ ë°±ê·¸ë¼ìš´ë“œëŠ” clearí•´ì„œ ê·¸ëŸ°ê²ƒ ê°™ì•„ìš”.

    #### ë§ˆë¬´ë¦¬

    Sticky êµ¬í˜„ì„ ì²˜ìŒ í•´ë´¤ëŠ”ë° ì•„ì£¼ ìœ ìš©í•˜ê³  ìš”ê¸´í•˜ê²Œ ë‘ë£¨ë‘ë£¨ íœ˜ëšœë£¨ë§ˆëšœë£¨ ì˜ ì“¸ê²ƒ ê°™ìŠµë‹ˆë‹¤ğŸ‘
    ìœ„ ì˜ˆì‹œ ì½”ë“œëŠ” ì œ ê¹ƒí—™ ë ˆí¬ì— ìˆìœ¼ë‹ˆ í•„ìš”í•˜ë‹¤ë©´ ì°¸ê³ í•´ì£¼ì„¸ìš”ğŸ˜€
    https://github.com/GREENOVER/playground/tree/main/PinnedScrollableViews


    #### [ì°¸ê³  ìë£Œ] https://developer.apple.com/documentation/swiftui/pinnedscrollableviews